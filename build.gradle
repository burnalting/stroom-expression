task wrapper(type: Wrapper) {
    gradleVersion = '4.1'
}

apply plugin: 'maven'
apply plugin: 'maven-publish'

// If the project has a value for the passed property (i.e from the cmd line via -PpropName=xxx) use that, else use a default value.
ext.getPropertyOrDefault = { propName, defaultValue ->
    return project.hasProperty(propName) ?
            project.getProperty(propName) :
            defaultValue
}

group = 'stroom'
version = getPropertyOrDefault('version', 'SNAPSHOT')

apply plugin: 'java'
apply plugin: 'idea'
sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenLocal()

    maven { url "http://repo.maven.apache.org/maven2" }
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.22'
    testCompile 'junit:junit:4.12'
    testCompile 'org.mockito:mockito-core:2.0.2-beta'
}


publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
        }
    }
}
